# 🚀 CE Framework Infrastructure: Basic Concepts

The **CE (Compose Entity)** framework is built on the cooperation of two libraries:

- `ComposeEntity` — provides infrastructure and base classes
- `ComposeEntity_KSP` — generates Kotlin code for you

Together, they allow you to create full-featured database-driven apps with **almost no boilerplate**.

## 🧱 Architecture Overview

The `ComposeEntity` library provides:

- Standardized infrastructure for CRUD (Create, Read, Update, Delete)
- Form rendering
- Navigation logic

The `ComposeEntity_KSP` processor generates:

- DAO  
- Repository  
- ViewModel  
- UI with navigation (list, edit, detail, master-detail)

You only need to define your `@Entity` with annotations and run:

```shell
Build → Clean Project → Assemble
```

Then CE will generate everything you need.

---

## 🧠 Does It Use ROOM?

Yes — CE uses the `androidx.room` library under the hood.

But you don’t need to:

- Write your own DAO or queries
- Create your database manually
- Handle table creation or field mapping

Even **basic migrations** (like adding/removing/renaming fields) are automated.

---

## 🎯 Framework Goal

CE exists to provide a clean and extensible base for database-driven apps.

### What you write:

- Entities (data classes)
- Menu entries (navigation points)

### What CE does:

- Generates and wires up all CRUD layers (DAO → Repository → ViewModel → UI)
- Provides composable, localized UI
- Supports light/dark themes out of the box

You can override and customize anything via annotations.

---

## 🌱 Example Use Case

You’re building a smart irrigation controller via Wi-Fi.

You focus on:

- Communication protocol
- Device configuration
- Sensor integration

But you still need to store:

- Devices  
- Settings  
- Wi-Fi networks  
- Sensor logs  
- Watering history

Normally that’s a lot of code. With CE:

- Define 4–5 entities
- Add them to the menu

Done. You get working forms, UI, navigation, and storage.

A medium form (~10 fields) with full functionality takes **5–30 minutes**.

👉 See real demos:  
[https://www.youtube.com/@ComposeEntity](https://www.youtube.com/@ComposeEntity)

---

## 🧩 Layers Generated per Entity

| Layer        | Created By You | Generated by CE |
|--------------|----------------|-----------------|
| Entity       | ✅             | —               |
| EntityExt    | —              | ✅              |
| DAO          | —              | ✅              |
| Repository   | —              | ✅              |
| ViewModel    | —              | ✅              |
| UI           | —              | ✅              |

### Example Entity:

```kotlin
@ObjectGeneratorCE(type = GeneratorType.Reference, label = "The Meter Zones")
@Parcelize
@Entity(tableName = "ref_meterzones")
data class RefMeterZones(
    @PrimaryKey(autoGenerate = true) override var id: Long,
    override var date: Long,
    override var name: String,
    override var isMarkedForDeletion: Boolean
) : CommonReferenceEntity(id, date, name, isMarkedForDeletion), Parcelable {
    override fun toString(): String = "$id: $name"
}
```

---

## 📚 Built-in Object Types
# CE includes several built-in types with specialized behavior:

- Reference objects (lookup tables)
- Documents
- Accumulation registers
- Information registers
- Reports based on `Entity`
- Reports based on raw `Cursor`
- Detail records (linked tables)

You can mix and combine them. CE handles the internal logic and navigation automatically.

---

## 🧭 CRUD Navigation and Forms

CE automatically generates the following forms per entity:

- **List form** (select, filter, search)
- **Add/Edit form**
- **View form** (read-only, with linked detail records if any)
- **Detail form** (used inside the view form)

Each form includes:

- Leave-without-saving protection
- Keyboard adaptation (based on input type)
- Input validation
- Live field updates
- Select-from-list behavior for foreign keys

All forms are Jetpack Compose-based and fully composable.

---

## 🔗 Learn More

- 📺 [YouTube tutorials](https://www.youtube.com/@ComposeEntity)
- 📘 [Starter templates and examples](https://github.com/sergeyboboshko)
- 🧾 [Notion-based documentation](https://wool-fontina-39f.notion.site/Compose-Entity-KSP-1bbac9e714318004866fd9fd627a25e1)

---

## 🛠️ TL;DR

Compose Entity helps you:

- Reduce code by **up to 80%**
- Build fully functional apps **in minutes**
- Focus on business logic — not boilerplate

Start by defining your `@Entity`, annotate it, and run **Clean + Assemble**.  
The rest is automatic.
